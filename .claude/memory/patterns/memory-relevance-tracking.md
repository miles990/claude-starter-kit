---
category: evolution
name: memory-relevance-tracking
applicable_to: [self-evolving-agent, memory-management]
version: 1.0.0
---

# Memory éºå¿˜æ›²ç·š (Memory Relevance Tracking)

> è¿½è¹¤ Memory çš„ç›¸é—œæ€§ï¼Œè‡ªå‹•è­˜åˆ¥éæ™‚æˆ–ä¸ç›¸é—œçš„æ¢ç›®

## æ ¸å¿ƒæ¦‚å¿µ

Memory ä¸æ‡‰è©²ç„¡é™ç´¯ç©ã€‚ä½¿ç”¨éºå¿˜æ›²ç·šæ©Ÿåˆ¶ï¼Œè®“ä¸å¸¸ä½¿ç”¨çš„è¨˜æ†¶é€æ¼¸é™ä½å„ªå…ˆç´šï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Memory éºå¿˜æ›²ç·š                                                â”‚
â”‚                                                                 â”‚
â”‚  relevance                                                      â”‚
â”‚     â†‘                                                           â”‚
â”‚  1.0â”‚ â—â”€â”€â—                                                      â”‚
â”‚     â”‚     â•²                                                     â”‚
â”‚  0.8â”‚      â•²â”€â”€â—                                                 â”‚
â”‚     â”‚          â•²                                                â”‚
â”‚  0.6â”‚           â•²â”€â”€â—                 â— (è¢«å¼•ç”¨ï¼Œå›å‡)           â”‚
â”‚     â”‚               â•²               â•±                           â”‚
â”‚  0.4â”‚                â•²â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â•±                             â”‚
â”‚     â”‚                                                           â”‚
â”‚  0.2â”‚                                        â•²â”€â”€â—               â”‚
â”‚     â”‚                                             â•²â”€â”€â—â”€â”€â—â”€â”€â—    â”‚
â”‚   0 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’   â”‚
â”‚     0    7    14   21   28   35   42   49   56   63   70  å¤©    â”‚
â”‚                                                                 â”‚
â”‚  èªªæ˜ï¼š                                                         â”‚
â”‚  â€¢ åˆå§‹ relevance = 1.0                                        â”‚
â”‚  â€¢ æ¯é€±æœªå¼•ç”¨è¡°æ¸› 10%                                          â”‚
â”‚  â€¢ è¢«å¼•ç”¨æ™‚å›å‡ 20%                                            â”‚
â”‚  â€¢ ä½æ–¼ 0.3 â†’ æ¨™è¨˜ç‚º "attention_needed"                        â”‚
â”‚  â€¢ ä½æ–¼ 0.1 â†’ å»ºè­°åˆªé™¤                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Memory æ¢ç›®æ“´å±•æ ¼å¼

```yaml
# learnings/2025-01-08-example.md frontmatter
---
date: 2025-01-08
tags: [example, learning]
task: ä»»å‹™æè¿°
status: resolved

# Relevance tracking (æ–°å¢)
relevance:
  score: 0.85              # ç•¶å‰ç›¸é—œæ€§åˆ†æ•¸ (0-1)
  last_accessed: 2025-01-08  # æœ€å¾Œè¢«å¼•ç”¨æ—¥æœŸ
  access_count: 3           # è¢«å¼•ç”¨æ¬¡æ•¸
  curated: false            # æ˜¯å¦ç¶“éäººå·¥æ•´ç†
  starred: false            # æ˜¯å¦æ¨™è¨˜ç‚ºé‡è¦
---
```

## åˆ†æ•¸è¨ˆç®—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Relevance Score è¨ˆç®—å…¬å¼                                       â”‚
â”‚                                                                 â”‚
â”‚  base_score = 1.0                                               â”‚
â”‚                                                                 â”‚
â”‚  è¡°æ¸›å› å­ï¼š                                                     â”‚
â”‚  time_decay = 0.9 ^ (weeks_since_access)                        â”‚
â”‚  â€¢ 1 é€±æœªå¼•ç”¨: 0.9                                              â”‚
â”‚  â€¢ 2 é€±æœªå¼•ç”¨: 0.81                                             â”‚
â”‚  â€¢ 4 é€±æœªå¼•ç”¨: 0.66                                             â”‚
â”‚  â€¢ 8 é€±æœªå¼•ç”¨: 0.43                                             â”‚
â”‚                                                                 â”‚
â”‚  å¢ç›Šå› å­ï¼š                                                     â”‚
â”‚  access_bonus = min(0.3, access_count * 0.05)                   â”‚
â”‚  curated_bonus = 0.2 if curated else 0                          â”‚
â”‚  starred_bonus = 0.3 if starred else 0                          â”‚
â”‚                                                                 â”‚
â”‚  final_score = min(1.0, time_decay + access_bonus               â”‚
â”‚                          + curated_bonus + starred_bonus)       â”‚
â”‚                                                                 â”‚
â”‚  åˆ†æ•¸ç­‰ç´šï¼š                                                     â”‚
â”‚  â€¢ 0.8-1.0: ğŸŸ¢ é«˜ç›¸é—œæ€§ï¼Œç¶“å¸¸ä½¿ç”¨                               â”‚
â”‚  â€¢ 0.5-0.8: ğŸŸ¡ ä¸­ç­‰ç›¸é—œæ€§ï¼Œå¶çˆ¾ä½¿ç”¨                             â”‚
â”‚  â€¢ 0.3-0.5: ğŸŸ  ä½ç›¸é—œæ€§ï¼Œå¯èƒ½éœ€è¦æ•´ç†                           â”‚
â”‚  â€¢ 0.0-0.3: ğŸ”´ å¾…åˆªé™¤å€™é¸                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è¿½è¹¤æ©Ÿåˆ¶

### 1. å¼•ç”¨è¨˜éŒ„

ç•¶ Agent æœå°‹ä¸¦ä½¿ç”¨ Memory æ™‚ï¼š

```markdown
# æœå°‹ Memory
Grep pattern="ComfyUI" path=".claude/memory/"

# æ‰¾åˆ°ä¸¦ä½¿ç”¨å¾Œï¼Œæ›´æ–°è©²æ¢ç›®çš„ relevance:
# - last_accessed = today
# - access_count += 1
# - é‡æ–°è¨ˆç®— score
```

### 2. å®šæœŸæƒæ

æ¯æ¬¡ Memory æ•´ç†æ™‚ï¼Œæƒææ‰€æœ‰æ¢ç›®ï¼š

```bash
# æƒææ‰€æœ‰ learnings
Glob pattern=".claude/memory/learnings/*.md"

# å°æ¯å€‹æª”æ¡ˆï¼š
# 1. è®€å– frontmatter
# 2. è¨ˆç®—ç•¶å‰ relevance score
# 3. æ›´æ–° frontmatter
# 4. æ¨™è¨˜ä½åˆ†æ•¸æ¢ç›®
```

### 3. è‡ªå‹•æ¨™è¨˜

```markdown
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªå‹•æ¨™è¨˜è¦å‰‡                                                   â”‚
â”‚                                                                 â”‚
â”‚  score < 0.3 ä¸”æœª starred:                                      â”‚
â”‚  â†’ æ¨™è¨˜ status: "review_needed"                                 â”‚
â”‚  â†’ åŠ å…¥ index.md çš„ "Attention Needed" å€å¡Š                     â”‚
â”‚                                                                 â”‚
â”‚  score < 0.1 ä¸”è¶…é 60 å¤©æœªå¼•ç”¨:                                â”‚
â”‚  â†’ æ¨™è¨˜ status: "delete_candidate"                              â”‚
â”‚  â†’ æ•´ç†æ™‚æç¤ºç”¨æˆ¶ç¢ºèªåˆªé™¤                                       â”‚
â”‚                                                                 â”‚
â”‚  æ–°å»ºç«‹çš„æ¢ç›® (age < 7 å¤©):                                     â”‚
â”‚  â†’ ä¸è¨ˆç®—è¡°æ¸›ï¼Œçµ¦äºˆ "æ–°æ‰‹ä¿è­·æœŸ"                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## index.md æ›´æ–°

```markdown
# å°ˆæ¡ˆè¨˜æ†¶ç´¢å¼•

> Last curated: 2025-01-08
> Total entries: 15
> Next review: 2025-01-15

## çµ±è¨ˆ
- Learnings: 8 ç­†
- High relevance (>0.8): 3 ç­†
- Medium relevance (0.5-0.8): 3 ç­†
- Low relevance (<0.5): 2 ç­†

## âš ï¸ Attention Needed
<!-- ATTENTION_START -->
- [old-approach.md](learnings/2025-11-28-old-approach.md) ğŸ”´ score: 0.25
  â†’ 60 å¤©æœªå¼•ç”¨ï¼Œå»ºè­°åˆªé™¤æˆ–æ•´ç†
<!-- ATTENTION_END -->

## æœ€è¿‘å­¸ç¿’
<!-- LEARNINGS_START -->
- [react-performance.md](learnings/2025-01-06-react-performance.md) ğŸŸ¢ score: 0.95 â­
- [api-error-handling.md](learnings/2025-01-03-api-error-handling.md) ğŸŸ¡ score: 0.72
<!-- LEARNINGS_END -->
```

## æ•´åˆåˆ° Phase 4.5

åœ¨ Memory æ•´ç† Checklist ä¸­åŠ å…¥ï¼š

```markdown
â–¡ 7. ğŸ“Š æ›´æ–° relevance scores
     â†’ è¨ˆç®—æ‰€æœ‰æ¢ç›®çš„ç•¶å‰åˆ†æ•¸
     â†’ æ¨™è¨˜ä½åˆ†æ•¸æ¢ç›®
     â†’ æ›´æ–° index.md çµ±è¨ˆ
```

## æ‰‹å‹•æ“ä½œ

### æ¨™è¨˜é‡è¦

```yaml
# é˜²æ­¢è‡ªå‹•åˆªé™¤
relevance:
  starred: true  # æ°¸ä¹…ä¿ç•™
```

### æ‰‹å‹•æ•´ç†

```yaml
# è¡¨ç¤ºå·²ç¶“äººå·¥å¯©æ ¸
relevance:
  curated: true
  curated_date: 2025-01-08
```

### é‡ç½®åˆ†æ•¸

```yaml
# é‡æ–°ç™¼ç¾åƒ¹å€¼
relevance:
  score: 1.0
  last_accessed: 2025-01-08
```

## ç›¸é—œ

- [knowledge-distillation.md](knowledge-distillation.md) - çŸ¥è­˜è’¸é¤¾
- [Memory æ•´ç† Checklist](../../../.claude/skills/evolve/SKILL.md) - æ•´ç†æµç¨‹
