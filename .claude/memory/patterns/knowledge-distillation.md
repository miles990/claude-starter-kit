---
category: evolution
name: knowledge-distillation
applicable_to: [self-evolving-agent, skillpkg]
version: 1.0.0
---

# çŸ¥è­˜è’¸é¤¾ç®¡é“ (Knowledge Distillation Pipeline)

> å¾ç´¯ç©çš„ç¶“é©—ä¸­è‡ªå‹•èƒå–å¯è¤‡ç”¨çš„ Skill

## è§¸ç™¼æ¢ä»¶

ç•¶ `.claude/memory/learnings/` ä¸­æ»¿è¶³ä»¥ä¸‹æ¢ä»¶æ™‚ï¼Œè§¸ç™¼è’¸é¤¾ï¼š

```yaml
distillation_triggers:
  # æ¢ä»¶ 1: ç›¸ä¼¼ä¸»é¡Œç´¯ç©
  similar_topic:
    min_entries: 3          # è‡³å°‘ 3 ç­†ç›¸ä¼¼è¨˜éŒ„
    similarity_threshold: 0.7  # èªæ„ç›¸ä¼¼åº¦ > 70%

  # æ¢ä»¶ 2: ç›¸åŒæ¨™ç±¤ç´¯ç©
  same_tags:
    min_entries: 5          # è‡³å°‘ 5 ç­†æœ‰ç›¸åŒ tag
    min_shared_tags: 2      # è‡³å°‘å…±äº« 2 å€‹ tags

  # æ¢ä»¶ 3: æ˜ç¢ºæ¨¡å¼
  explicit_pattern:
    keywords: ["æ¯æ¬¡", "ç¸½æ˜¯", "ä¸€å®šè¦", "æœ€ä½³åšæ³•"]
```

## åµæ¸¬æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 4.5: Memory ç”Ÿå‘½é€±æœŸ - çŸ¥è­˜è’¸é¤¾                           â”‚
â”‚                                                                 â”‚
â”‚  1. æƒæ learnings/                                             â”‚
â”‚     Grep pattern="status: resolved" path=".claude/memory/learnings/"
â”‚                                                                 â”‚
â”‚  2. åˆ†æç›¸ä¼¼åº¦                                                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚     â”‚  æŒ‰ tags åˆ†çµ„ï¼š                                       â”‚   â”‚
â”‚     â”‚  â€¢ react + performance: 5 ç­†                         â”‚   â”‚
â”‚     â”‚  â€¢ api + error-handling: 3 ç­†                        â”‚   â”‚
â”‚     â”‚  â€¢ database + optimization: 2 ç­†                     â”‚   â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  3. åµæ¸¬æ¨¡å¼                                                    â”‚
â”‚     â€¢ react + performance (5 ç­†) â† é”åˆ°é–¾å€¼ï¼                   â”‚
â”‚                                                                 â”‚
â”‚  4. ç”Ÿæˆææ¡ˆ                                                    â”‚
â”‚     â†’ æè­°å»ºç«‹ "react-performance-patterns" skill              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ææ¡ˆæ ¼å¼

ç•¶åµæ¸¬åˆ°å¯è’¸é¤¾çš„æ¨¡å¼æ™‚ï¼Œç”Ÿæˆä»¥ä¸‹ææ¡ˆï¼š

```markdown
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ ç™¼ç¾å¯è’¸é¤¾çš„çŸ¥è­˜æ¨¡å¼                                         â”‚
â”‚                                                                 â”‚
â”‚  åœ¨ .claude/memory/learnings/ ä¸­æ‰¾åˆ° 5 ç­†ç›¸é—œè¨˜éŒ„ï¼š              â”‚
â”‚                                                                 â”‚
â”‚  1. 2025-01-03-react-memo.md                                   â”‚
â”‚     â†’ useMemo/useCallback ä½¿ç”¨æ™‚æ©Ÿ                              â”‚
â”‚                                                                 â”‚
â”‚  2. 2025-01-05-react-virtualization.md                         â”‚
â”‚     â†’ é•·åˆ—è¡¨è™›æ“¬åŒ–æŠ€å·§                                          â”‚
â”‚                                                                 â”‚
â”‚  3. 2025-01-07-react-lazy-loading.md                           â”‚
â”‚     â†’ çµ„ä»¶æ‡¶åŠ è¼‰ç­–ç•¥                                            â”‚
â”‚                                                                 â”‚
â”‚  4. 2025-01-08-react-profiler.md                               â”‚
â”‚     â†’ Profiler æ•ˆèƒ½åˆ†æ                                         â”‚
â”‚                                                                 â”‚
â”‚  5. 2025-01-10-react-bundle-size.md                            â”‚
â”‚     â†’ Bundle å¤§å°å„ªåŒ–                                           â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                 â”‚
â”‚  å»ºè­°ç”Ÿæˆæ–° Skillï¼š                                              â”‚
â”‚                                                                 â”‚
â”‚  åç¨±: react-performance-patterns                               â”‚
â”‚  æè¿°: React æ•ˆèƒ½å„ªåŒ–çš„å®Œæ•´æ¨¡å¼é›†åˆ                              â”‚
â”‚  ç‰ˆæœ¬: 1.0.0                                                    â”‚
â”‚                                                                 â”‚
â”‚  å…§å®¹æ‘˜è¦:                                                       â”‚
â”‚  â€¢ useMemo/useCallback ä½¿ç”¨æ™‚æ©Ÿèˆ‡åæ¨¡å¼                         â”‚
â”‚  â€¢ åˆ—è¡¨è™›æ“¬åŒ–ï¼ˆreact-window/react-virtualizedï¼‰                 â”‚
â”‚  â€¢ æ‡¶åŠ è¼‰ç­–ç•¥ï¼ˆReact.lazy + Suspenseï¼‰                          â”‚
â”‚  â€¢ Profiler æ•ˆèƒ½åˆ†ææ–¹æ³•                                        â”‚
â”‚  â€¢ Bundle å„ªåŒ–æŠ€å·§                                               â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                 â”‚
â”‚  è¦ç”Ÿæˆé€™å€‹ Skill å—ï¼Ÿ                                          â”‚
â”‚                                                                 â”‚
â”‚  [Y] ç¢ºèªç”Ÿæˆ                                                   â”‚
â”‚  [E] ç·¨è¼¯å¾Œç”Ÿæˆ                                                 â”‚
â”‚  [N] æš«æ™‚è·³é                                                   â”‚
â”‚  [D] ä¸å†æé†’æ­¤æ¨¡å¼                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç”Ÿæˆçš„ Skill æ ¼å¼

ç¢ºèªå¾Œï¼Œä½¿ç”¨ `create_skill` MCP tool ç”Ÿæˆï¼š

```yaml
# react-performance-patterns/SKILL.md
---
name: react-performance-patterns
version: 1.0.0
description: React æ•ˆèƒ½å„ªåŒ–çš„å®Œæ•´æ¨¡å¼é›†åˆ
distilled_from:
  source: ".claude/memory/learnings/"
  entries: 5
  date: "2025-01-10"
triggers:
  keywords:
    primary: [React, æ•ˆèƒ½, performance, å„ªåŒ–, optimization]
    secondary: [memo, useMemo, useCallback, è™›æ“¬åŒ–, æ‡¶åŠ è¼‰]
  context_boost: [å‰ç«¯, frontend, çµ„ä»¶, component]
  priority: medium
dependencies:
  software-skills: [frontend]
---

# React Performance Patterns

> å¾å°ˆæ¡ˆç¶“é©—èƒå–çš„æ•ˆèƒ½å„ªåŒ–æœ€ä½³å¯¦è¸

## 1. Memoization ç­–ç•¥

### ä½•æ™‚ä½¿ç”¨ useMemo
- è¨ˆç®—æˆæœ¬é«˜çš„è¡ç”Ÿå€¼
- ä½œç‚ºå…¶ä»– hooks çš„ä¾è³´

### ä½•æ™‚ä½¿ç”¨ useCallback
- å‚³éçµ¦å­çµ„ä»¶çš„äº‹ä»¶è™•ç†å™¨
- ä½œç‚º useEffect çš„ä¾è³´

### åæ¨¡å¼
âŒ å°ç°¡å–®è¨ˆç®—ä½¿ç”¨ memo
âŒ å¿˜è¨˜ä¾è³´é™£åˆ—

## 2. åˆ—è¡¨è™›æ“¬åŒ–

### é©ç”¨å ´æ™¯
- åˆ—è¡¨é …ç›® > 100
- æ¯å€‹é …ç›®æ¸²æŸ“æˆæœ¬é«˜

### æ¨è–¦æ–¹æ¡ˆ
- react-window (è¼•é‡)
- react-virtualized (åŠŸèƒ½å®Œæ•´)

## 3. æ‡¶åŠ è¼‰ç­–ç•¥

### è·¯ç”±ç´šæ‡¶åŠ è¼‰
```jsx
const Page = React.lazy(() => import('./Page'));
```

### çµ„ä»¶ç´šæ‡¶åŠ è¼‰
- æ¨¡æ…‹æ¡†
- é¸é …å¡å…§å®¹
- ä¸‹æ‹‰é¸å–®

## 4. Profiler ä½¿ç”¨

### è­˜åˆ¥æ•ˆèƒ½ç“¶é ¸
1. é–‹å•Ÿ React DevTools Profiler
2. éŒ„è£½äº’å‹•
3. åˆ†æ "Ranked" è¦–åœ–
4. æ‰¾å‡ºé‡æ¸²æŸ“ç†±é»

## 5. Bundle å„ªåŒ–

### ç­–ç•¥
- å‹•æ…‹ import
- Tree shaking
- åˆ†æ bundle (webpack-bundle-analyzer)

---

*æ­¤ Skill å¾ 5 ç­†å°ˆæ¡ˆç¶“é©—è‡ªå‹•èƒå–ç”Ÿæˆ*
```

## æ•´åˆåˆ° self-evolving-agent

åœ¨ Phase 4.5 Memory ç”Ÿå‘½é€±æœŸä¸­åŠ å…¥è’¸é¤¾æª¢æŸ¥ï¼š

```markdown
## Phase 4.5: Memory ç”Ÿå‘½é€±æœŸç®¡ç†

### Memory æ•´ç† Checklist

```markdown
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Memory æ•´ç† Checklistï¼ˆæ¯æ¬¡æ•´ç†æ™‚åŸ·è¡Œï¼‰                        â”‚
â”‚                                                                 â”‚
â”‚  â–¡ 1. æœ‰æ²’æœ‰é‡è¤‡/ç›¸ä¼¼çš„æ¢ç›®ï¼Ÿ                                   â”‚
â”‚       â†’ åˆä½µæˆä¸€ç­†                                              â”‚
â”‚                                                                 â”‚
â”‚  â–¡ 2. æœ‰æ²’æœ‰è¢«æ–°ç¶“é©—å–ä»£çš„ï¼Ÿ                                    â”‚
â”‚       â†’ æ¨™è¨» [SUPERSEDED by xxx]                                â”‚
â”‚                                                                 â”‚
â”‚  â–¡ 3. æœ‰æ²’æœ‰è¶…é 30 å¤©æœªè¢«å¼•ç”¨çš„ï¼Ÿ                              â”‚
â”‚       â†’ è©•ä¼°æ˜¯å¦ä»ç„¶ç›¸é—œ                                        â”‚
â”‚                                                                 â”‚
â”‚  â–¡ 4. ğŸ“ æœ‰æ²’æœ‰å¯è’¸é¤¾çš„æ¨¡å¼ï¼Ÿ(NEW)                              â”‚
â”‚       â†’ 3+ ç­†ç›¸ä¼¼ä¸»é¡Œ â†’ æè­°ç”Ÿæˆ Skill                          â”‚
â”‚                                                                 â”‚
â”‚  â–¡ 5. index.md æ˜¯å¦æ›´æ–°ï¼Ÿ                                       â”‚
â”‚       â†’ æ›´æ–° Last curated æ—¥æœŸå’Œçµ±è¨ˆæ•¸å­—                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è’¸é¤¾è¨˜éŒ„

æ¯æ¬¡æˆåŠŸè’¸é¤¾å¾Œï¼Œè¨˜éŒ„åˆ° `.claude/memory/skill-metrics/distillations.yaml`ï¼š

```yaml
# skill-metrics/distillations.yaml
distillations:
  - id: "distill-001"
    date: "2025-01-10"
    skill_created: "react-performance-patterns"
    source_entries:
      - learnings/2025-01-03-react-memo.md
      - learnings/2025-01-05-react-virtualization.md
      - learnings/2025-01-07-react-lazy-loading.md
      - learnings/2025-01-08-react-profiler.md
      - learnings/2025-01-10-react-bundle-size.md
    trigger: "same_tags"
    status: "completed"

summary:
  total_distillations: 1
  skills_created: 1
  entries_consolidated: 5
```

## ä½¿ç”¨æŒ‡ä»¤

### æ‰‹å‹•è§¸ç™¼æª¢æŸ¥

```bash
# æª¢æŸ¥æ˜¯å¦æœ‰å¯è’¸é¤¾çš„æ¨¡å¼
Grep pattern="tags:" path=".claude/memory/learnings/" | åˆ†ææ¨™ç±¤åˆ†ä½ˆ

# æˆ–ä½¿ç”¨ skillpkg
skillpkg analyze --check-distillation
```

### ç”Ÿæˆ Skill

```typescript
// ä½¿ç”¨ skillpkg MCP tool
create_skill({
  name: "react-performance-patterns",
  description: "React æ•ˆèƒ½å„ªåŒ–çš„å®Œæ•´æ¨¡å¼é›†åˆ",
  instructions: "..." // å¾ learnings åˆä½µç”Ÿæˆ
});
```
